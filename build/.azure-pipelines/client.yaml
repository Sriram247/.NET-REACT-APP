trigger:
- master

pool:
  vmImage: windows-latest

steps:
- task: NodeTool@0
  inputs:
    versionSource: 'spec'
    versionSpec: '16.13.1'
  displayName: 'Install Node.js'

# - task: Npm@1
#   inputs:
#     command: 'install'
#     workingDir: 'src/mcda_project.client/'
#   displayName: 'Install Packages'

# - task: Npm@1
#   inputs:
#     command: 'custom'
#     workingDir: 'src/mcda_project.client/'
#     customCommand: 'run build'
#   displayName: 'Build Project'

- script: |
    cd src/mcda_project.client/
    npm install
    npm run build
  displayName: 'npm install and build'


- task: PublishBuildArtifacts@1
  inputs:
    PathtoPublish: '/src/mcda_project.client/dist'
    ArtifactName: 'drop'
    publishLocation: 'Container'